<html>
<head>
<%10%>
<title>NETGEAR Router <%11%></title>
<link rel="stylesheet" href="form.css">
<STYLE TYPE="text/javascript">
	classes.num.all.fontFamily = "Courier";
	classes.num.all.fontSize = "10pt" ;
</style>
<%28%>
<script language="javascript" type="text/javascript">
<!-- hide script from old browsers
var df_sel = <%1125%>;
var fwpt_action = <%1126%>;

function setsrc()
{
	var cf = document.forms[0];
	var type = cf.src_ip_type.selectedIndex;
	if (type == 1)
	{
		cf.src_ip1.disabled = false;
		cf.src_ip2.disabled = false;
		cf.src_ip3.disabled = false;
		cf.src_ip4.disabled = false;
	}
	else
	{
		cf.src_ip1.disabled = true;
		cf.src_ip2.disabled = true;
		cf.src_ip3.disabled = true;
		cf.src_ip4.disabled = true;
	}
}

function setDisable(disable)
{
	var cf = document.forms[0];
	cf.pt_name.disabled = disable;
	cf.pt_type.disabled = disable;
	cf.pt_port.disabled = disable;
	cf.in_port_type.disabled = disable;
	cf.in_port_start.disabled = disable;
	cf.in_port_end.disabled = disable;
}

function loadSettings()
{
	var cf = document.forms[0];
	var src_ip_type = "<%1127%>";
	if (src_ip_type == "2")
	{
		var src_ip = cf.src_ip.value.split(".");
		cf.src_ip1.value = src_ip[0];
		cf.src_ip2.value = src_ip[1];
		cf.src_ip3.value = src_ip[2];
		cf.src_ip4.value = src_ip[3];
		cf.src_ip_type.selectedIndex = 1;
	}
	else
	{
		cf.src_ip_type.selectedIndex = 0;
		cf.src_ip1.value = "";
		cf.src_ip2.value = "";
		cf.src_ip3.value = "";
		cf.src_ip4.value = "";
	}
	setsrc();

	var pt_type = "<%1128%>";
	if (pt_type == "17")
		cf.pt_type.selectedIndex = 1;
	else
		cf.pt_type.selectedIndex = 0;
	cf.pt_port.value = "<%1129%>";

	var in_port_type = "<%1130%>";
	if (in_port_type == "6")
		cf.in_port_type.selectedIndex = 1;
	else if (in_port_type == "17")
		cf.in_port_type.selectedIndex = 2;
	else
		cf.in_port_type.selectedIndex = 0;
	cf.in_port_start.value = "<%1131%>";
	cf.in_port_end.value = "<%1132%>";

	if (df_sel)
		setDisable(true);
}

function checkPort(name, port)
{
	var msg = "";
	var portNum = port;

	if (port.length == 0)
		msg = name + " <%1%>";
	if (isNaN(portNum) || portNum < 1 || portNum > 65535 || !_isNumeric(portNum))
		msg = "<%1133%> " + name + ", <%1134%>";
	return msg;
}

function checkData()
{
	var cf = document.forms[0];
	var msg = "";

	if (cf.pt_name.value.length == 0)
		msg += "<%1135%>";

	if(cf.pt_name.value==""||cf.pt_name.value.match( /[^\x20-\x7E]/ ))
	{
		alert("<%350%>");
		cf.pt_name.focus();
		return false;
	}

	if (cf.src_ip_type.selectedIndex == 1)
	{
		if(checkIP(cf.src_ip1,cf.src_ip2,cf.src_ip3,cf.src_ip4,254)||(parseInt(cf.src_ip4.value,10)==0))
			msg+= "<%9%>";
		else
		{
			cf.src_ip1.value = parseInt(cf.src_ip1.value,10);
			cf.src_ip2.value = parseInt(cf.src_ip2.value,10);
			cf.src_ip3.value = parseInt(cf.src_ip3.value,10);
			cf.src_ip4.value = parseInt(cf.src_ip4.value,10);
		}
	}

	msg += checkPort("<%1136%>", cf.pt_port.value);

	msg += checkPort("<%1137%>", cf.in_port_start.value);

	if (cf.in_port_end.value.length > 0)
	{
		msg += checkPort("<%1138%>", cf.in_port_end.value);
		if (parseInt(cf.in_port_end.value,10) < parseInt(cf.in_port_start.value,10))
			msg += "<%1139%>";
	}

	if (msg.length > 0)
	{
		alert(msg);
		return false;
	}
	
	cf.src_ip.value = cf.src_ip1.value+'.'+cf.src_ip2.value+'.'+cf.src_ip3.value+'.'+cf.src_ip4.value;
	cf.in_port_start.value = parseInt(cf.in_port_start.value,10);
	if (cf.in_port_end.value.length == 0)
		cf.in_port_end.value = cf.in_port_start.value;
	else
		cf.in_port_end.value = parseInt(cf.in_port_end.value,10);

	setDisable(false);
	return true;
}

//-->
</script>
</head>
<body bgcolor="#ffffff" onload="loadSettings();loadhelp('FW_pt');document.forms[0].elements[0].focus();">
<form name="formname" action="fwpt_service.cgi" method="POST">
<table border="0" cellpadding="0" cellspacing="3" width="100%">
<tr>
	<td colspan="2"><h1><%1140%></h1></td></tr>
<tr>
	<td colspan="2" background="liteblue.gif" height="12">&nbsp; </td></tr>
<tr>
<td colspan="2">
	<table border ="0" cellpadding ="0" cellspacing ="0" width="100%">
	<tr>
	<td colspan="2"><tabindex="-1"><b><%1141%></b></a></td></tr>
	<tr>
	<TD NOWRAP width="37%"><%338%></td>
	<TD NOWRAP width="63%"><input type="text" name="pt_name" size="15" maxlength="30" value="<%1142%>"></td>
	</tr>
	<tr>
	<td nowrap width="37%"><%1121%></td>
	<td nowrap width="63%">
	<select name="src_ip_type" onChange="setsrc();">
		<option value=1><%1143%></option>
		<option value=2><%1144%></option>
	</select>
	</td>
	</tr>
	<tr></tr>
	<tr>
	<td nowrap width="37%"></td>
	<td nowrap width="63%"><span class="num">
	<input type="text" class="num" size="4" name="src_ip1" maxlength="3">.<input type="text" class="num" size="4" maxlength="3" name="src_ip2" >.<input type="text" class="num" size="4" maxlength="3" name="src_ip3">.<input type="text" class="num" size="4" maxlength="3" name="src_ip4">
	</span></td>
	</tr>      
	<tr>
	<TD NOWRAP width="37%"><%213%></td>
	<TD NOWRAP width="63%">
		<select name="pt_type" size="1">
		<option value=6><%236%></option>
		<option value=17><%237%></option>
		</SELECT></TD>
	</TR>
	<tr>
	<TD NOWRAP width="37%"><%1136%></td>
	<TD NOWRAP width="63%"><input type="text" class="num" name="pt_port" size="6" maxlength="5" >(1~65535)</td>
	</tr>
	<tr>
	<td colspan="2" background="liteblue.gif" height="12">&nbsp; </td></tr>
	<tr>
	<td colspan="2"><tabindex="-1"><b><%1120%></b></a></td></tr>
	<tr>
	<TD NOWRAP width="37%"><%1145%>:</td>
	<TD NOWRAP width="63%">
		<select name="in_port_type" size="1">
		<option value=100><%238%></option>
		<option value=6><%236%></option>
		<option value=17><%237%></option>
		</SELECT></TD>
	</TR>
	<tr>
	<TD NOWRAP width="37%"><%239%></td>
	<TD NOWRAP width="63%"><input type="text" class="num" name="in_port_start" size="6" maxlength="5">(1~65535)</td>
	</tr>
	<tr>
	<TD NOWRAP width="37%"><%240%></td>
	<TD NOWRAP width="63%"><input type="text" class="num" name="in_port_end" size="6" maxlength="5">(1~65535)</td>
	</tr>
	</table>
</td>
</tr>
<tr>
	<td colspan="2" background="liteblue.gif" height="12">&nbsp; </td></tr>
<tr>
	<td colspan="2" align="center">
	<input type="submit" name="apply" value="<%93%>" onclick="if(!checkData()) return false;">
	<input type="button" name="cancel" value="<%94%>" onClick="location.href='FW_pt.htm'"></td></tr>
</table>
<input type="hidden" name="src_ip" value="<%1146%>">
<input type="hidden" name="out_port_type" value="0">
</form>
<p>
</p>
</body>
</html>
